zerops:
  - setup: backend
    build:
      base: bun@1.1
      os: ubuntu
      buildCommands:
        - bun i
        - bun x nx build backend
      deployFiles:
        - apps/backend/dist
        - node_modules
        - package.json
      cache:
        - node_modules
        - bun.lockb

    run:
      base: bun@1.1
      os: ubuntu
      ports:
        - port: 3000
      start:
        - bun x nx start backend

    deploy:
      readinessCheck:
        httpGet:
          path: /swagger
          port: 3000
